{% extends 'base.html.twig' %}

{% block headerTitle %}Jobs{% endblock %}

{% block breadcrumbs %}
    <li class="active"><span>Jobs</span></li>
{% endblock %}

{% block body %}
    <div style="height:30px">
        <span style="float:right"><a href="{{ path('create_job') }}" class="btn btn-primary">Create New Job</a></span>
    </div>
    <h2>Job list</h2>
    <table class="table table-bordered table-striped table-hover ">
        <thead>
        <tr style="background-color:white">
            <th style="border:solid">Name</th>
            <th style="border:solid">SO #</th>
            <th style="border:solid">ESD</th>
            <th style="border:solid">Type</th>
            <th style="border:solid">Model</th>
            <th style="border:solid">Qty</th>
            <th style="border:solid">MO #</th>
            <th style="border:solid">Mac PO #</th>
            <th style="border:solid">Build Location</th>
            <th style="border:solid">Planner ESD</th>
        </tr>
        </thead>
        <tbody>
            {% for job in jobs %}
            <tr>
                <td>{{ job.name }}</td>
                <td>{{ job.salesOrder }}</td>
                <td>{{ job.estimatedShipDate|date('Y-m-d') }}</td>
                <td>{{ job.type }}</td>
                <td>{{ job.model }}</td>
                <td>{{ job.quantity }}</td>
                <td>{{ job.manufacturingOrder }}</td>
                <td>{{ job.macPurchaseOrder }}</td>
                <td>{{ job.buildLocation.name }}</td>
                <td>
                    {% if job.plannerEstimatedShipDate %}
                        {{ job.plannerEstimatedShipDate|date('Y-m-d') }}
                    {% else %}
                        TBD
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block javascripts %}
    <script>
        $(document).ready(function() {
            $('.table').fixedThead({
              height: 400,
              col: 2
            });
        });
    </script>
{% endblock %}